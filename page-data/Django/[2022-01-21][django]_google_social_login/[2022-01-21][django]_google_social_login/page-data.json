{"componentChunkName":"component---src-templates-blog-post-js","path":"/Django/[2022-01-21][django]_google_social_login/[2022-01-21][django]_google_social_login/","result":{"data":{"site":{"siteMetadata":{"title":"Suu.Blog"}},"markdownRemark":{"id":"e2e6563e-27a3-5bee-bac6-b414ec926c16","excerpt":"ê°œìš” ì¥ê³  í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ êµ¬ê¸€ ì†Œì…œ ë¡œê·¸ì¸ì„ ë§¡ê²Œ ë˜ì—ˆë‹¤. êµ¬ê¸€ ë¡œê·¸ì¸ì—ëŠ” allauthë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²• social-auth-app-djangoë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²• ë‘ ê°€ì§€ê°€ ìˆë‹¤. ê²°ë¡ ë¶€í„° ë§í•˜ë©´ 1ë²ˆëŒ€ë¡œ í–ˆë‹¤ê°€ ìƒê°ëŒ€ë¡œ ì•ˆ ë˜ëŠ” ë¶€ë¶„ì´ ìˆì–´ì„œ ë‚˜ëŠ”Â 2ë²ˆ ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤.â€¦","html":"<h2 id=\"ê°œìš”\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"ê°œìš” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°œìš”</h2>\n<p>ì¥ê³  í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ êµ¬ê¸€ ì†Œì…œ ë¡œê·¸ì¸ì„ ë§¡ê²Œ ë˜ì—ˆë‹¤.</p>\n<p>êµ¬ê¸€ ë¡œê·¸ì¸ì—ëŠ”</p>\n<ol>\n<li><strong>allauthë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•</strong></li>\n<li><strong>social-auth-app-djangoë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•</strong></li>\n</ol>\n<p>ë‘ ê°€ì§€ê°€ ìˆë‹¤.</p>\n<p>ê²°ë¡ ë¶€í„° ë§í•˜ë©´ 1ë²ˆëŒ€ë¡œ í–ˆë‹¤ê°€ ìƒê°ëŒ€ë¡œ ì•ˆ ë˜ëŠ” ë¶€ë¶„ì´ ìˆì–´ì„œ ë‚˜ëŠ”Â <strong>2ë²ˆ ë°©ë²•</strong>ì„ ì‚¬ìš©í–ˆë‹¤.</p>\n<h2 id=\"0-ê³µí†µ-google-api-ë°œê¸‰ë°›ê¸°\" style=\"position:relative;\"><a href=\"#0-%EA%B3%B5%ED%86%B5-google-api-%EB%B0%9C%EA%B8%89%EB%B0%9B%EA%B8%B0\" aria-label=\"0 ê³µí†µ google api ë°œê¸‰ë°›ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>0. ê³µí†µ: google API ë°œê¸‰ë°›ê¸°</strong></h2>\n<p><a href=\"https://console.cloud.google.com/\"><strong>êµ¬ê¸€ í´ë¼ìš°ë“œ</strong></a>ì—ì„œ API í‚¤ë¥¼ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆë‹¤.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.37974683544304%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVR42p2QQUsDMRCF9/9f9CAiWC9e/AciirUUBMF6qXc9uZa21GzDbjIzmzxntrvoHrw48MF7k/BmkuLoeoWTuw0uHx2mrxs8PH9gsXjDcvmOm5cdJnOPi/ke57MfJsrZdI/j2wOn9+pnDldPHkXigJwFKbWgxiNLBIUGFCPaVjCu3PNXZRRbV2O9dXC7CuvPFWrvNTxpWEIkRmQdpLD0XqG+N0JaiFIwEwwRRlmWqKqqCzSibiki+oLcbczM2s/qE0iDDz5156abJqAYlrUD577ARF2IYZcGHUIYedODt68JgVDXvwKHKYbp//INn9/MBM//zH0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1.png\"\n        title=\"\"\n        src=\"/static/48aa7d4b266e04567e5bf466408c7d3a/f058b/1.png\"\n        srcset=\"/static/48aa7d4b266e04567e5bf466408c7d3a/c26ae/1.png 158w,\n/static/48aa7d4b266e04567e5bf466408c7d3a/6bdcf/1.png 315w,\n/static/48aa7d4b266e04567e5bf466408c7d3a/f058b/1.png 630w,\n/static/48aa7d4b266e04567e5bf466408c7d3a/40601/1.png 945w,\n/static/48aa7d4b266e04567e5bf466408c7d3a/78612/1.png 1260w,\n/static/48aa7d4b266e04567e5bf466408c7d3a/e8950/1.png 2000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\nì‚¬ì§„ì—ì„œ 3ë²ˆê¹Œì§€ ìˆ˜í–‰í•˜ë©´ client idì™€ keyë¥¼ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bb2c8fba18d30109f286040125713a10/e8950/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.44303797468356%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABSklEQVR42q1U2W6DMBDk/78uFa8hEEoIJFwx2NjmmO5uU6lvIYelke/xerzjYDQG2XeGNE1RnM9Ijxm62w1xHMt4khyRnU4IwxBaazwqgXMOTdOg7ToMg4ZSCn0/EHrqDwJttNTzPD8mnKcJg/7dICTU9jT2agmcd5uusplQ9QqnPMdoLV3NCP6ifBbLsnCEHkVZoKoqNITickFOjzPRAtZsK3g9cwXM6vwE63iAJv4teBbruiKY5gVlY5FXFq1yWNblPQ2Z1d9PmO+nvEWIDxchZB05Mga3WcNXIw0MuSCJE0RRJOmTk80O0QH7aC922+2+JOm3J7aztKG/O2WAMSMs5SRryjWDo95MyBvH0QgMJbShmvPpZQ2ZoG27zz0K26woS/Ezfw6KcKMf51nb8a34MUlDj7NYr0ZT17hcr3IAT7J2W8EO897jB+d1N4L3PR6XAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2/img.png\"\n        title=\"\"\n        src=\"/static/bb2c8fba18d30109f286040125713a10/f058b/2.png\"\n        srcset=\"/static/bb2c8fba18d30109f286040125713a10/c26ae/2.png 158w,\n/static/bb2c8fba18d30109f286040125713a10/6bdcf/2.png 315w,\n/static/bb2c8fba18d30109f286040125713a10/f058b/2.png 630w,\n/static/bb2c8fba18d30109f286040125713a10/40601/2.png 945w,\n/static/bb2c8fba18d30109f286040125713a10/78612/2.png 1260w,\n/static/bb2c8fba18d30109f286040125713a10/e8950/2.png 2000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ì¼ë‹¨ ì‚¬ì§„ê³¼ ê°™ì´ ë„£ê³ , í›„ì— ì˜¤ë¥˜ê°€ ëœ¬ë‹¤ë©´ ë¦¬ë””ë ‰ì…˜ URIë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤. ê´€ë ¨ ë¶€ë¶„ì€ ë’¤ì—ì„œ ì„œìˆ í•˜ë„ë¡ í•˜ê² ë‹¤.</p>\n<h2 id=\"1-allauth\" style=\"position:relative;\"><a href=\"#1-allauth\" aria-label=\"1 allauth permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>1. allauth</strong></h2>\n<p>ë¨¼ì € íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pip install django<span class=\"token operator\">-</span>allauth</code></pre></div>\n<p><strong>1. settings.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">INSTALLED_APPS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token string\">'django.contrib.sites'</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token comment\">#allauth'allauth',</span>\n    <span class=\"token string\">'allauth.account'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'allauth.socialaccount'</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token comment\">#provider'allauth.socialaccount.providers.google',</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nAUTHENTICATION_BACKENDS <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'django.contrib.auth.backends.ModelBackend'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'allauth.account.auth_backends.AuthenticationBackend'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\nSITE_ID <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nLOGIN_REDIRECT_URL <span class=\"token operator\">=</span> <span class=\"token string\">'/'</span></code></pre></div>\n<p>migrateë¥¼ í•´ì¤˜ì•¼í•œë‹¤.</p>\n<p><strong>2. urls.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'accounts/'</span><span class=\"token punctuation\">,</span> include<span class=\"token punctuation\">(</span><span class=\"token string\">'allauth.urls'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>ì—¬ê¸°ì„œ accounts/ëŠ” ì›í•˜ëŠ” urlëŒ€ë¡œ ì„¤ì •í•´ì¤˜ë„ ëœë‹¤. (êµ¬ê¸€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í‚¤ ë°œê¸‰ë°›ì„ ë•Œ redirect urlì—ë§Œ ë§ê²Œ ë„£ì–´ì£¼ë©´ ëœë‹¤.)</p>\n<p><strong>3. db</strong></p>\n<p>admin ê³„ì •ìœ¼ë¡œ dbì— ë“¤ì–´ê°€ë©´Â <strong>sitesì™€ social accountsê°€</strong>Â ìƒˆë¡œ ìƒê²¼ì„ ê²ƒì´ë‹¤.</p>\n<p><strong>sites</strong>ì— ë“¤ì–´ê°€ ë³´ë©´ ê¸°ë³¸ì ìœ¼ë¡œ exampleì´ ìƒì„±ë˜ì–´ ìˆëŠ”ë°, exampleì„ 127.0.0.1:8000ë¡œ ìˆ˜ì •í•˜ê±°ë‚˜ ìƒˆë¡œ 127.0.0.1:8000ë¥¼ ì¶”ê°€í•œë‹¤.</p>\n<p>displayì™€ ë„ë©”ì¸ ì´ë¦„ì— 127.0.0.1:8000ì„ ì ì–´ì¤€ë‹¤.\nlocalhost ì£¼ì†Œë¥¼ ì¶”ê°€í–ˆì„ ë•Œ exampleì„ ìˆ˜ì •í–ˆë‹¤ë©´ ìœ„ì˜ settings.pyì—ì„œ SITE_IDë¥¼ 1ë¡œ,</p>\n<p>ê·¸ë‹¤ìŒÂ <strong>Social applications-Add social application</strong>ìœ¼ë¡œ ë“¤ì–´ê°€ ìƒˆë¡œ ì•±ì„ ì¶”ê°€í•´ì¤€ë‹¤.</p>\n<p>providerë¥¼ googleë¡œ ì„¤ì •í•˜ê³ , idì™€ secret keyë¥¼ 0ë²ˆì—ì„œ ë°œê¸‰ë°›ì€ í‚¤ë¡œ ë„£ëŠ”ë‹¤.\nsitesì—ëŠ” 127.0.0.1:8000ë¥¼ ì¶”ê°€í•œë‹¤.</p>\n<p><strong>4. html</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token punctuation\">{</span><span class=\"token operator\">%</span> load socialaccount <span class=\"token operator\">%</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token operator\">%</span> providers_media_js <span class=\"token operator\">%</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\" {% provider_login_url 'google' %}\"</span><span class=\"token operator\">></span>êµ¬ê¸€ ë¡œê·¸ì¸<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span></code></pre></div>\n<p>ì—¬ê¸°ê¹Œì§€ ë. ë§Œì•½Â <strong>Error: redirect_uri_mismatch</strong>Â ê°€ ëœ¬ë‹¤ë©´ ì„¤ì •í•´ì•¼ í•  redirect URI ì£¼ì†Œê¹Œì§€ ì•Œë ¤ì¤€ë‹¤.</p>\n<p><strong>redirect URI in request</strong>~ ì— ë‚˜ì˜¨ ì£¼ì†Œë¥¼ 0ë²ˆì˜Â <strong>ìŠ¹ì¸ëœ ë¦¬ë‹¤ì´ë ‰ì…˜ URI</strong>ì— ì¶”ê°€í•œë‹¤.</p>\n<h3 id=\"1-1-ì—¬ê¸°ê¹Œì§€-ì™”ì„-ë•Œ-ë‚´-ë¬¸ì œ-\" style=\"position:relative;\"><a href=\"#1-1-%EC%97%AC%EA%B8%B0%EA%B9%8C%EC%A7%80-%EC%99%94%EC%9D%84-%EB%95%8C-%EB%82%B4-%EB%AC%B8%EC%A0%9C-\" aria-label=\"1 1 ì—¬ê¸°ê¹Œì§€ ì™”ì„ ë•Œ ë‚´ ë¬¸ì œ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>1-1. ì—¬ê¸°ê¹Œì§€ ì™”ì„ ë•Œ ë‚´ ë¬¸ì œ ğŸ¤”</strong></h3>\n<p>ë‚˜ëŠ” êµ¬ê¸€ ë¡œê·¸ì¸ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë°”ë¡œ ì´ í™”ë©´ì´ ë‚˜ì˜¤ê¸¸ ì›í–ˆëŠ”ë° ğŸ”½</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4feef2ec21be47677c20edb620c4ba41/e8950/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 104.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACF0lEQVR42o1UWW7bMBDNfXqCnion6GfP0mv0KyfoR42iQGJXlu1IlkSKpMTtdYYWg8ShlwEeSI6oNzOc5QGLBO/hrIO19g3zbOGcQ4zxLrA8ZEKtBPpeoG1aHI9HtO0RXdeRboAnYyGEm3gjZPasyJayvLd+zbtPhOdEWdg7rQ2maU7hX5IQ4i3C09lohdVqhefnFwq/L0ZxkzDvjA2o2oD6VeL1sEPTNpBSFkmLhKwzc4QmGBuhpghpGB5SW4wThT+H9I2hCdbHMiH7NZiApnfoRk8IaKWH0AGKDIwziDB+ABs8qgAfzsomHxoiGI1NIXtKGhvny+zFOWYX07eWDPMeseAhe/Wntlg3DpuWQGvVueT5QJ6mNe8JPUFOIXHF0huyRaFP78bvqCmkyUbcI+WkUHHGQF3hHe09vLOnLqD4uRW5JhmWWtQte15jOSmAFAL1dofN5h92uz3qaotdvcf6ZU1rjeZwQEU61q83FfaHFqMylzwEdYKFGseEkSDlCGMMhkGks1p0Wim4aURw8/WQObPWE2gNV56O7zz9dfj5e8avyl2uQ85Y3XtsO5+6hHXx3ZOE5R6X19fvB3z5tsfjj1M7+tu9fCWjdHUvqC3JcK/jvcPhs8R7y+bWrCuBQ0zwhYnNtcZTWlH2LglPGc443xViIAjK/pA801qnmvwQsnNUoMvULQkP1/xTLnBPDRAXh7KH/wH26nHyvjXs8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img.png\"\n        title=\"\"\n        src=\"/static/4feef2ec21be47677c20edb620c4ba41/f058b/3.png\"\n        srcset=\"/static/4feef2ec21be47677c20edb620c4ba41/c26ae/3.png 158w,\n/static/4feef2ec21be47677c20edb620c4ba41/6bdcf/3.png 315w,\n/static/4feef2ec21be47677c20edb620c4ba41/f058b/3.png 630w,\n/static/4feef2ec21be47677c20edb620c4ba41/40601/3.png 945w,\n/static/4feef2ec21be47677c20edb620c4ba41/78612/3.png 1260w,\n/static/4feef2ec21be47677c20edb620c4ba41/e8950/3.png 2000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì´ í™”ë©´ì´ ë¨¼ì € ë‚˜ì™”ê³  Continueë¥¼ ëˆŒëŸ¬ì•¼ ì¸ì¦ìœ¼ë¡œ ë„˜ì–´ê°”ë‹¤. ğŸ”½</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4cc3d0cb56076543b6bf5ffa15b5dbba/e8950/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAvUlEQVR42r2SSw+CMBCE+/9/kw/OkqBoghcucrEcSsGWbYG0Y0UuHjSBEDeZTLKHL7MPVhQF+q7HWsXalsBvAqTsu+Mn834Z0BiDRmjoB2EYBjjnPjQbGEV7HNMUeZ7jlCTIsisOcYzddoP0fJkPrKWEEBWU0miaOqiBDL2yLCEqAUMGrym0bkFBSis4/z0543cOzktYa0GGYKwBEcF23egUdjz6BB6BP1bBZFWNqVa7MlYu5sOfLH2RvyR8AiohEs3nVqkaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img.png\"\n        title=\"\"\n        src=\"/static/4cc3d0cb56076543b6bf5ffa15b5dbba/f058b/4.png\"\n        srcset=\"/static/4cc3d0cb56076543b6bf5ffa15b5dbba/c26ae/4.png 158w,\n/static/4cc3d0cb56076543b6bf5ffa15b5dbba/6bdcf/4.png 315w,\n/static/4cc3d0cb56076543b6bf5ffa15b5dbba/f058b/4.png 630w,\n/static/4cc3d0cb56076543b6bf5ffa15b5dbba/40601/4.png 945w,\n/static/4cc3d0cb56076543b6bf5ffa15b5dbba/78612/4.png 1260w,\n/static/4cc3d0cb56076543b6bf5ffa15b5dbba/e8950/4.png 2000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ì°¾ì•„ë´¤ì„ ë•Œ ë‹¤ìŒ ê¸€ì„ ì°¸ê³ í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<ul>\n<li><a href=\"https://learndjango.com/tutorials/django-log-in-email-not-username\"><strong>template ì»¤ìŠ¤í…€ ë°©ë²•ê¹Œì§€ ë‚˜ì™€ìˆëŠ” ì°¸ê³  ì‚¬ì´íŠ¸</strong></a></li>\n<li><a href=\"https://github.com/pennersr/django-allauth/issues/345\"><strong>ê´€ë ¨ Issue</strong></a></li>\n</ul>\n<p>ìœ„ ê¸€ë“¤ì„ ì°¸ê³ í–ˆì„ ë•Œ, ë‚˜ëŠ” ë°”ë¡œ ì†Œì…œë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ë°”ë€ŒëŠ”ê±¸ ì›í–ˆì–´ì„œ 1ë²ˆì€ í¬ê¸°í•˜ê³  2ë²ˆ ë°©ë²•ìœ¼ë¡œ ë„˜ì–´ê°”ë‹¤. (*2ë²ˆì€ dbì„¤ì •ì„ í•´ì¤„ í•„ìš”ê°€ ì—†ì–´ì„œ ì¢€ ë” ê°„í¸í•˜ë‹¤.)</p>\n<h2 id=\"2-social-auth-app-django\" style=\"position:relative;\"><a href=\"#2-social-auth-app-django\" aria-label=\"2 social auth app django permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>2. social-auth-app-django</strong></h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pip install social<span class=\"token operator\">-</span>auth<span class=\"token operator\">-</span>app<span class=\"token operator\">-</span>django</code></pre></div>\n<p>ë¨¼ì € íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì¤˜ì•¼ í•œë‹¤.</p>\n<p><strong>1. settings.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\nINSTALLED_APPS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'social_django'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\nAUTHENTICATION_BACKENDS <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n<span class=\"token comment\">#Needed to login by username in Django admin, regardless of 'allauth''social_core.backends.google.GoogleOAuth2',</span>\n\n<span class=\"token comment\"># 'allauth' specific authentication methods, such as login by e-mail'django.contrib.auth.backends.ModelBackend',</span>\n<span class=\"token punctuation\">)</span>\n\nSOCIAL_AUTH_URL_NAMESPACE <span class=\"token operator\">=</span> <span class=\"token string\">'login:social'</span>\n\nLOGIN_REDIRECT_URL<span class=\"token operator\">=</span><span class=\"token string\">'/'</span><span class=\"token comment\">#ì†Œì…œ ë¡œê·¸ì¸ í›„ ëŒì•„ê°ˆ í™”ë©´</span>\n\nSOCIAL_AUTH_GOOGLE_OAUTH2_KEY <span class=\"token operator\">=</span> <span class=\"token string\">'ë°œê¸‰ë°›ì€ id'</span>\nSOCIAL_AUTH_GOOGLE_OAUTH2_SECRET <span class=\"token operator\">=</span> <span class=\"token string\">'ë°œê¸‰ë°›ì€ ë¹„ë°€í‚¤'</span>\nSOCIAL_AUTH_GOOGLE_OAUTH2_SCOPE <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'email'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># ì´ë©”ì¼ë¡œ ì‹ë³„í•˜ê² ë‹¤.</span></code></pre></div>\n<p>ì‘ì„± í›„ migrateë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.</p>\n<p>ë‚˜ëŠ” loginì´ë¼ëŠ” app ì•ˆ urls.pyì— social urlì„ ì¶”ê°€í–ˆê¸° ë•Œë¬¸ì— <strong>SOCIAL_AUTH_URL_NAMESPACE = 'login:social'ë¼ê³ </strong>Â ì¨ì£¼ì—ˆì§€ë§Œ, ê¸°ë³¸ í”„ë¡œì íŠ¸ urls.pyì— social urlì„ ì¶”ê°€í•´ì¤¬ë‹¤ë©´ 'social'ì´ë¼ê³  ì ì–´ì¤˜ì•¼ í•œë‹¤.</p>\n<p>KEYì˜ ê²½ìš° ê¹ƒí—™ì— ì˜¬ë¼ê°€ì§€ ì•Šê²Œ ì•ˆì „í•˜ê²Œ ë³´ê´€í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ìœ ì˜í•˜ì. env ì„¤ì • ë°©ë²•ì´ ìˆëŠ”ë° ì—¬ê¸°ì„  ìƒëµí•œë‹¤.</p>\n<p><strong>login/urls.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path<span class=\"token punctuation\">,</span> include\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> include<span class=\"token punctuation\">(</span><span class=\"token string\">'social_django.urls'</span><span class=\"token punctuation\">,</span> namespace<span class=\"token operator\">=</span><span class=\"token string\">'social'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>ìœ„ pathë¥¼ ì–´ë””ì— ìˆëŠ” urls.pyì— ë„£ëƒì— ë”°ë¼ settings.pyì˜ SOCIAL_AUTH_URL_NAMESPACEë¥¼ ë‹¤ë¥´ê²Œ ì¨ì¤˜ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì£¼ì˜í•˜ì.</p>\n<p>êµ¬ê¸€ë§ í•´ë³´ë©´ pathëŒ€ì‹  urlì„ ì“°ëŠ” ì½”ë“œë“¤ì´ ë§ì´ ë‚˜ì˜¤ëŠ”ë°, urlì€ ì¥ê³  ìµœì‹  ë²„ì „ì—ì„œ deprecated ë˜ì—ˆê¸° ë•Œë¬¸ì— pathë¡œ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤.</p>\n<p><strong>html</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;a href=\"{% url 'login:social:begin' 'google-oauth2' %}\">êµ¬ê¸€ ë¡œê·¸ì¸&lt;/a></code></pre></div>\n<p>login app -> social namespace -> begin</p>\n<p>beginì€ ì‹ ê²½ ì“¸ í•„ìš” ì—†ìœ¼ë‚˜ ìœ„ì—ì„œ app ì´ë¦„ê³¼ nampspaceë¥¼ ì–´ë–»ê²Œ ì ì–´ì¤¬ëŠ”ì§€ ì£¼ì˜í•´ì„œ ì‘ì„±í•˜ì.\nì—¬ê¸°ì„œë„ ë§ˆì°¬ê°€ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ ì‹œÂ <strong>Error: redirect_uri_mismatch</strong>Â ê°€ ëœ¬ë‹¤ë©´ <strong>redirect URI in request</strong>~ ì— ë‚˜ì˜¨ ì£¼ì†Œë¥¼ 0ë²ˆì˜Â <strong>ìŠ¹ì¸ëœ ë¦¬ë‹¤ì´ë ‰ì…˜ URI</strong>ì— ì¶”ê°€í•œë‹¤.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EA%B0%9C%EC%9A%94\">ê°œìš”</a></p>\n</li>\n<li>\n<p><a href=\"#0-%EA%B3%B5%ED%86%B5-google-api-%EB%B0%9C%EA%B8%89%EB%B0%9B%EA%B8%B0\"><strong>0. ê³µí†µ: google API ë°œê¸‰ë°›ê¸°</strong></a></p>\n</li>\n<li>\n<p><a href=\"#1-allauth\"><strong>1. allauth</strong></a></p>\n<ul>\n<li><a href=\"#1-1-%EC%97%AC%EA%B8%B0%EA%B9%8C%EC%A7%80-%EC%99%94%EC%9D%84-%EB%95%8C-%EB%82%B4-%EB%AC%B8%EC%A0%9C-\"><strong>1-1. ì—¬ê¸°ê¹Œì§€ ì™”ì„ ë•Œ ë‚´ ë¬¸ì œ ğŸ¤”</strong></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-social-auth-app-django\"><strong>2. social-auth-app-django</strong></a></p>\n</li>\n</ul>","frontmatter":{"title":"[django] google social login êµ¬í˜„í•˜ê¸°","date":"2022.01.21","description":"djangoì—ì„œ google social login êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤.","category":"Django","tag":["project","django"]}},"previous":{"fields":{"slug":"/Project/[2022-01-16]react-nativeì—ì„œ_json_íŒŒì¼_Firebaseë¡œ_ê°€ì ¸ì˜¤ê¸°/[2022-01-16]react-nativeì—ì„œ_json_íŒŒì¼_Firebaseë¡œ_ê°€ì ¸ì˜¤ê¸°/"},"frontmatter":{"title":"react-nativeì—ì„œ json íŒŒì¼ Firebaseë¡œ ê°€ì ¸ì˜¤ê¸°"}},"next":{"fields":{"slug":"/ê¸°íƒ€/[2022-04-24]ìœ ë‹ˆí‹° WebGL ë°©ì‹ìœ¼ë¡œ gh-pages ë°°í¬í•˜ê¸°/[2022-04-24]ìœ ë‹ˆí‹° WebGL ë°©ì‹ìœ¼ë¡œ gh-pages ë°°í¬í•˜ê¸°/"},"frontmatter":{"title":"ìœ ë‹ˆí‹° WebGL ë°©ì‹ìœ¼ë¡œ gh-pages ë°°í¬í•˜ê¸°"}}},"pageContext":{"id":"e2e6563e-27a3-5bee-bac6-b414ec926c16","previousPostId":"1baf0fb9-a3d5-503a-9526-43cb5c0808ca","nextPostId":"872a0cbb-7a02-5d00-8754-501746583537"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}