{"componentChunkName":"component---src-templates-blog-post-js","path":"/CSS/[2022-05-22]animation-timeline으로 css만으로 스크롤 애니메이션 만들기/","result":{"data":{"site":{"siteMetadata":{"title":"Suu.Blog"}},"markdownRemark":{"id":"758fd0ce-51d6-5330-84b4-5e43b680c2bf","excerpt":"개요 예전에 동아리에서 CSS 애니메이션이 가득한 사이트를 클론 코딩하는 과제를 받았던 적이 있다. 당시에 스크롤을 내리면서 나타나는 애니메이션을 보며 이것도 JS 없이 CSS로 할 수 있는 건가?(아무래도... js없이 css…","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>예전에 동아리에서 CSS 애니메이션이 가득한 사이트를 클론 코딩하는 과제를 받았던 적이 있다.</p>\n<p>당시에 스크롤을 내리면서 나타나는 애니메이션을 보며 이것도 JS 없이 CSS로 할 수 있는 건가?(아무래도... js없이 css로 애니메이션을 만드는게 성능에 더 좋으니깐.) 궁금했었는데, 스택오버플로우에서 찾아보니 단호하게 방법이 없다는 글만 나왔던 기억이 있다.</p>\n<p>그러다 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/AnimationTimeline\"><strong><code class=\"language-text\">animation-timeline</code></strong></a>이라는 Web Animations API를 알게 됐다.\n어쩐지 한글 문서는 잘 안 나오더라니 크롬 experimental 기술이었다.\nchrome experiments는 크롬에서 최신 웹 기술을 선보이는 것이라고 한다.</p>\n<p>사용하려면 <code class=\"language-text\">chrome://flags에 접속해서 experimental web platform features</code>를 enabled로 바꿔줘야 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b72ffdb01c3b9b5cb1dd95489b60d2f7/d30ee/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABJ0AAASdAHeZh94AAABfUlEQVR42o2Qy4obMRBF/fPZ5A/mK0K2yS4w28CsQsAeP/qhd3fb3S2ppCpVUI/tRcgil0ISBZd7dHfCTL120kxuWt20/DVmWGJCZi58F+RiZ0pYF7vxOrvx6sZpDZAQIWPMFDOmOgQZkcpTzIxEAXJGLKXsdNeptpNN469XJiop1clV6aH7G+qxrqtfPeZck835oo5n1zRyf1CXizyexOG9PbzvD/vT6dS2bdO0Xdddtqvv+6ZppVQZ6192ylplrXZOW6utVdpoY40btB3XAB+0RFQe8ESEG3M1xxCC9xBjDAFiiMHXM8bZ4+yxPIv6l3ZIjMREHDOrqcyhUOGMjFRDamYpKaVhGJwbIdUWU67raoZcAEtMCIliKpA5YTVn5I30jruh0jPzjq20MVqbTVrr2+1GmBNszQJ89BwjMJe9hNffy8+j//FrVtPWtlZK9EIKKXohemGNW+YFABIkeJhDiMz87e32+at8+W4+fRFvZ79hQy3rKYjVxv+nP/8MeApEonmLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1.png\"\n        title=\"\"\n        src=\"/static/b72ffdb01c3b9b5cb1dd95489b60d2f7/f058b/1.png\"\n        srcset=\"/static/b72ffdb01c3b9b5cb1dd95489b60d2f7/c26ae/1.png 158w,\n/static/b72ffdb01c3b9b5cb1dd95489b60d2f7/6bdcf/1.png 315w,\n/static/b72ffdb01c3b9b5cb1dd95489b60d2f7/f058b/1.png 630w,\n/static/b72ffdb01c3b9b5cb1dd95489b60d2f7/40601/1.png 945w,\n/static/b72ffdb01c3b9b5cb1dd95489b60d2f7/d30ee/1.png 980w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>여기서 하나 알고 가야할 <a href=\"https://developer.mozilla.org/ko/docs/Web/CSS/@supports\"><strong><code class=\"language-text\">@supports</code></strong></a> 라는 at-rule이 있는데, 사용 시 브라우저가 지원이 될 때 스타일을 적용시킨다.</p>\n<p>scroll-timeline에 대한 자세한 설명은 <a href=\"https://www.bram.us/2021/02/23/the-future-of-css-scroll-linked-animations-part-1/\"><strong>여기서</strong></a> 볼 수 있다.</p>\n<p>먼저 <code class=\"language-text\">time-range</code>를 알아보면, time range는 <em>시간을 의미하는 게 아니라, 스크롤 바 진행정도와 애니메이션 진행정도에 맵핑되는 숫자</em>라고 한다.</p>\n<blockquote>\n<p>TIP: Always set time-range to the exact same time as the animation-duration, unless you have a very good reason not to.</p>\n</blockquote>\n<p>팁에 따라 애니메이션 duration time과 time-range를 일치시키도록 하자.</p>\n<p><code class=\"language-text\">linear vs ease-in</code>에 대한 설명도 나와 있다.</p>\n<blockquote>\n<p>TIP: Always set animation-timing-function to linear when working with @scroll-timeline.</p>\n</blockquote>\n<p>문서에서는 linear을 쓰는 걸 권장하는데, 이유는 애니메이션 진행정도와 스크롤 진행정도는 맵핑되는데 스크롤에 따라 갑자기 빨라지는 애니메이션은 이상하게 느껴지기 때문이다.</p>\n<h2 id=\"실습\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%8A%B5\" aria-label=\"실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실습</h2>\n<p>그럼 스크롤에 따라 다른 속도 애니메이션을 만들어보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>first<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>first-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>This is Header<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>second-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>This is Header<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@supports</span> <span class=\"token punctuation\">(</span><span class=\"token property\">animation-timeline</span><span class=\"token punctuation\">:</span> works<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">.first-header</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> 3s linear forwards move-text-down<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">animation-timeline</span><span class=\"token punctuation\">:</span> move-timeline-first<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token atrule\"><span class=\"token rule\">@scroll-timeline</span> move-timeline-first</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">time-range</span><span class=\"token punctuation\">:</span> 1s<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> move-text-down</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token selector\">from</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateY</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\">to</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateY</span><span class=\"token punctuation\">(</span>200%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">.second-header</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> 1s linear forwards move-text-up<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">animation-timeline</span><span class=\"token punctuation\">:</span> move-timeline-second<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@scroll-timeline</span> move-timeline-second</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">time-range</span><span class=\"token punctuation\">:</span> 1s<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> move-text-up</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token selector\">from</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateY</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\">to</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateY</span><span class=\"token punctuation\">(</span>-100%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://codepen.io/suu3/pen/azoZLEe\"><div><iframe \n        height='400' \n        scrolling='no' \n        src='//codepen.io/suu3/embed/preview/azoZLEe/?height=400&theme-id=dark&default-tab=html,result' \n        frameborder='no' \n        title='codepen embed'\n        allowtransparency='true' \n        allowfullscreen='true' \n        style='width: 100%;'></iframe></div></a></p>\n<p>지원되는 브라우저에서만 확인해 볼 수 있다.</p>\n<p>translateY 값을 다르게 줘서 속도에 차이를 줬다. 두 h1이 같은 크기지만 first-header가 먼저 border를 침범하게 된다.</p>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<ol>\n<li><a href=\"https://www.youtube.com/watch?v=EkEyA4RtfNE\">https://www.youtube.com/watch?v=EkEyA4RtfNE</a></li>\n<li><a href=\"https://css-tricks.com/practical-use-cases-for-scroll-linked-animations-in-css-with-scroll-timelines/\">https://css-tricks.com/practical-use-cases-for-scroll-linked-animations-in-css-with-scroll-timelines/</a></li>\n<li><a href=\"https://www.bram.us/2021/02/23/the-future-of-css-scroll-linked-animations-part-1/\">https://www.bram.us/2021/02/23/the-future-of-css-scroll-linked-animations-part-1/</a></li>\n</ol>","tableOfContents":"<ul>\n<li><a href=\"#%EA%B0%9C%EC%9A%94\">개요</a></li>\n<li><a href=\"#%EC%8B%A4%EC%8A%B5\">실습</a></li>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>","frontmatter":{"title":"animation-timeline으로 css만으로 스크롤 애니메이션 만들기","date":"2022.05.22","description":"animation-timeline으로 css만으로 스크롤 애니메이션 만들기","category":"CSS","tag":["CSS"]}},"previous":{"fields":{"slug":"/책/[2022-05-21]DO_IT!_타입스크립트_프로그래밍/"},"frontmatter":{"title":"DO IT! 타입스크립트 프로그래밍"}},"next":{"fields":{"slug":"/React/[2022-06-05]react-hook-form_써보기/"},"frontmatter":{"title":"[React] React Hook Form 써보기"}}},"pageContext":{"id":"758fd0ce-51d6-5330-84b4-5e43b680c2bf","previousPostId":"965fb69f-4366-5996-9eff-beed0daa29a2","nextPostId":"b45847ad-ab7c-5df9-a93e-8d6245baecd6"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}