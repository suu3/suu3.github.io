{"componentChunkName":"component---src-templates-blog-post-js","path":"/React/[2022-06-05]react-hook-form_써보기/[2022-06-05]react-hook-form_써보기/","result":{"data":{"site":{"siteMetadata":{"title":"Suu.Blog"}},"markdownRemark":{"id":"829f314a-e86f-53e5-b599-bb0c06312021","excerpt":"회원가입 폼 이런걸 만들어본다. 0. 들어가기 앞서 React 문서 Form 파트에는 다음과 같은 문항이 있다.  마침 회원가입 창 폼 유효성 검사 처리를 하지 않았기에 Formik을 써봐야겠다고 생각을 했으나 Formik과 React Hook Form을 비교한 글을 읽고 React…","html":"<p><img src=\"/React/%5B2022-06-05%5Dreact-hook-form_%EC%8D%A8%EB%B3%B4%EA%B8%B0/1.gif\" alt=\"회원가입 폼\"></p>\n<p>이런걸 만들어본다.</p>\n<h2 id=\"0-들어가기-앞서\" style=\"position:relative;\"><a href=\"#0-%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0-%EC%95%9E%EC%84%9C\" aria-label=\"0 들어가기 앞서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. 들어가기 앞서</h2>\n<p>React 문서 Form 파트에는 다음과 같은 문항이 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aabfddc0f2430e7899dc8f8306e4a640/a2b88/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.949367088607595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVR42o2P3QqDMAyFff/Hs+KcqHihW9toNbY6CzNddIx56RfID+SEkygEKosiFnGe50KIWAjvfbhGFIjqur5nWVWViUjS9Lb6lYi27X1khr4N/fiLeZgZZxEH5+zyWowxUqqugw5Aaw0AUkrQoPr+KRUinsUBtGrbtuF4NLwz4mSt5UMTouNieZz2+86Nwzgv88k2P717PEwe9sJlPuuYH6uEe7dRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"리액트 문서 사진\"\n        title=\"\"\n        src=\"/static/aabfddc0f2430e7899dc8f8306e4a640/f058b/2.png\"\n        srcset=\"/static/aabfddc0f2430e7899dc8f8306e4a640/c26ae/2.png 158w,\n/static/aabfddc0f2430e7899dc8f8306e4a640/6bdcf/2.png 315w,\n/static/aabfddc0f2430e7899dc8f8306e4a640/f058b/2.png 630w,\n/static/aabfddc0f2430e7899dc8f8306e4a640/a2b88/2.png 908w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>마침 회원가입 창 폼 유효성 검사 처리를 하지 않았기에 Formik을 써봐야겠다고 생각을 했으나 <a href=\"https://nyeongnyeong.tistory.com/299\">Formik과 React Hook Form을 비교한 글</a>을 읽고 React Hook Form을 쓰기로 결정했다.</p>\n<p>react-hook-form은 <a href=\"https://react-hook-form.com/kr/get-started\">문서</a>가 정말 잘 정리되어있다. 한국어도 지원해주고, 버전별 &#x26; TS JS 별 코드도 제공해준다. 문서 보고 바로 적용할 수 있을 정도로 러닝커브가 낮다고 느꼈다.</p>\n<h2 id=\"react-hook-form-살펴보기\" style=\"position:relative;\"><a href=\"#react-hook-form-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"react hook form 살펴보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Hook Form 살펴보기</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install react-hook-form</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useForm <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-hook-form\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n  register<span class=\"token punctuation\">,</span>\n  reset<span class=\"token punctuation\">,</span>\n  watch<span class=\"token punctuation\">,</span>\n  getValues<span class=\"token punctuation\">,</span>\n  handleSubmit<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">formState</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> errors <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>react hook form은 비제어 컴포넌트를 사용한다.</p>\n<p>물론 UI 라이브러리를 사용해서 제어 컴포넌트를 쓰고 있을 때도 조합해서 사용이 가능하다. (React hook form #ControlledmixedwithUncontrolledComponents 참고 )</p>\n<p>사용한 함수들은 위와 같다. 하나씩 살펴본다.</p>\n<h3 id=\"1-handlesubmit--reset\" style=\"position:relative;\"><a href=\"#1-handlesubmit--reset\" aria-label=\"1 handlesubmit  reset permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>1. handleSubmit &#x26; reset</strong></h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const onSubmit = (data) => {\n    console.log(data);\n    reset();\n};\n\nreturn(\n    &lt;form onSubmit={handleSubmit(onSubmit)}>\n        ...\n    &lt;/form>\n);</code></pre></div>\n<p>폼 태그가 Submit 될 때 호출될 함수를 handleSubmit에 콜백으로 넣어준다.</p>\n<ul>\n<li>e.preventDefault() 하지 않아도 유효성을 통과하지 못하면 제출되지 않는다.</li>\n<li><a href=\"https://react-hook-form.com/kr/api#reset\">reset</a>은 폼을 초기화 시켜준다.\n<ul>\n<li>특정 필드만 초기화시켜줄 수 있고, 특정 값으로 초기화시켜주는 등 다양한 작업이 가능하다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2-register--errors\" style=\"position:relative;\"><a href=\"#2-register--errors\" aria-label=\"2 register  errors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. register &#x26; errors</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SignUp</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">...</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CustomInput</span></span>\n            <span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>아이디<span class=\"token punctuation\">\"</span></span>\n            <span class=\"token attr-name\">eLabel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span>\n            <span class=\"token attr-name\">register</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>register<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">confirm</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>idConfirm<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n            <span class=\"token attr-name\">required</span>\n        <span class=\"token punctuation\">/></span></span>\n        <span class=\"token operator\">...</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//Custom Input</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">CustomInput</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> type<span class=\"token punctuation\">,</span> label<span class=\"token punctuation\">,</span> eLabel<span class=\"token punctuation\">,</span> register<span class=\"token punctuation\">,</span> confirm <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">htmlFor</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>label<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n        <span class=\"token attr-name\">maxLength</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">20</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>eLabel<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> confirm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">type</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>type<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">autoComplete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>register를 ref={register(...)} 로 작성하면 <a href=\"https://stackoverflow.com/questions/66927051/getting-uncaught-typeerror-path-split-is-not-a-function-in-react\">다음</a>과 같은 에러가 날 수 있는데, 버전 문제이므로 {...register} 이렇게 작성해주자.</p>\n<p>register는 input에 ref를 등록해준다고 볼 수 있을 것 같다. (unregister로 등록을 취소할수도 있다.)\nregister의 첫번째 인자로는 객체 프로퍼티의 키 값이 될 문자열이 들어간다. 이 키 값으로 input 개별 처리를 한다.</p>\n<p>confirm에는 유효성 체크 객체를 보내주었다. 예를 들어 id의 confirm은 이렇게 보내주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> idConfirm <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">required</span><span class=\"token operator\">:</span> <span class=\"token string\">\"필수 항목입니다.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">minLength</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4자 이상 입력해주세요\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">pattern</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-z0-9_]{4,10}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> <span class=\"token string\">\"아이디는 영어 혹은 숫자로 이루어져야합니다.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong>required:</strong> 입력여부 체크</li>\n<li><strong>minLength:</strong> input 최소 길이 만족했는지 체크</li>\n<li><strong>pattern:</strong> 정규식 체크</li>\n</ul>\n<p>각 키 별로 value, message를 설정해줄 수 있다. message는 value조건을 만족하지 않을 때 errors 객체로 보내진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CustomInput</span></span>\n        <span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>아이디<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">eLabel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">register</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>register<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">confirm</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>idConfirm<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">required</span>\n<span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>errors<span class=\"token punctuation\">.</span>id<span class=\"token operator\">?.</span>message<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><code class=\"language-text\">errors.[register 첫번째 인자로 들어간 키 값].message</code>로 출력할 수 있다.</p>\n<p>위에서는 4자 이하 값이 submit 됐을 때 \"4자 이상 입력해주세요\" 메세지가 출력될 것이고 특수 문자가 들어가면 \"아이디는 영어 혹은 숫자로 이루어져야합니다\" 메세지가 출력될 것이다.</p>\n<h3 id=\"3-getvalues\" style=\"position:relative;\"><a href=\"#3-getvalues\" aria-label=\"3 getvalues permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. getValues()</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> rePasswordConfirm <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">required</span><span class=\"token operator\">:</span> <span class=\"token string\">\"필수 항목입니다.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">validate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">matchPassword</span><span class=\"token operator\">:</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> password <span class=\"token operator\">=</span> <span class=\"token function\">getValues</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> password <span class=\"token operator\">===</span> value <span class=\"token operator\">||</span> <span class=\"token string\">\"비밀번호가 일치하지 않습니다.\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>getValues()는 register된 모든 input들의 값을 가져올 수 있다.\n역시나 특정 값은 register 첫번째 인자로 가져올 수 있다.\nvalidate는 콜백이나 콜백의 객체를 전달해서 검증할 수 있다.</p>\n<h3 id=\"4-watch\" style=\"position:relative;\"><a href=\"#4-watch\" aria-label=\"4 watch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>4. watch</strong></h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> subscription <span class=\"token operator\">=</span> <span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> type <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> subscription<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>watch<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>watch는 input의 값들을 계속 관찰한다. unsubscribe()로 관찰을 풀어줄 수 있다.<br>\ngetValues랑 다른 점은 getValues는 useEffect의 dependency array에 넣어도 변화가 감지되지 않는다.</p>\n<p>나는 input들이 전부 입력되면 버튼에 색이 들어오게 만들어주고 싶었기 때문에 watch를 사용했다.</p>\n<h2 id=\"사용-후기\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%ED%9B%84%EA%B8%B0\" aria-label=\"사용 후기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용 후기</h2>\n<p>쓰기도 쉽고 원하는대로 유효성 검사 만들 수도 있고 좋았다.<br>\nform같이 한꺼번에 여러 상태를 관리해야할 때 사용하면 좋을 듯 하다.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#0-%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0-%EC%95%9E%EC%84%9C\">0. 들어가기 앞서</a></p>\n</li>\n<li>\n<p><a href=\"#react-hook-form-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\">React Hook Form 살펴보기</a></p>\n<ul>\n<li><a href=\"#1-handlesubmit--reset\"><strong>1. handleSubmit &#x26; reset</strong></a></li>\n<li><a href=\"#2-register--errors\">2. register &#x26; errors</a></li>\n<li><a href=\"#3-getvalues\">3. getValues()</a></li>\n<li><a href=\"#4-watch\"><strong>4. watch</strong></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%82%AC%EC%9A%A9-%ED%9B%84%EA%B8%B0\">사용 후기</a></p>\n</li>\n</ul>","frontmatter":{"title":"[React] React Hook Form 써보기","date":"2022.06.05","description":"React Hook Form을 사용해보았다","category":"React","tag":["react","react-hook-form"]}},"previous":{"fields":{"slug":"/CSS/[2022-05-22]animation-timeline으로 css만으로 스크롤 애니메이션 만들기/[2022-05-22]animation-timeline으로 css만으로 스크롤 애니메이션 만들기/"},"frontmatter":{"title":"animation-timeline으로 css만으로 스크롤 애니메이션 만들기"}},"next":{"fields":{"slug":"/회고/[2022-06-24]UPF_2022SS_회고록/[2022-06-24]UPF_2022SS_회고록/"},"frontmatter":{"title":"UPF 2022SS 회고록"}}},"pageContext":{"id":"829f314a-e86f-53e5-b599-bb0c06312021","previousPostId":"75816dfc-33b5-58f6-a6af-d0b37e6d67b0","nextPostId":"f36af804-5e2c-5400-bca6-15ed52cc11c5"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}