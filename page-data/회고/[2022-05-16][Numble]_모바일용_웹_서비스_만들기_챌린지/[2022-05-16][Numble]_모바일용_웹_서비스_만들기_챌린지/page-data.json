{"componentChunkName":"component---src-templates-blog-post-js","path":"/회고/[2022-05-16][Numble]_모바일용_웹_서비스_만들기_챌린지/[2022-05-16][Numble]_모바일용_웹_서비스_만들기_챌린지/","result":{"data":{"site":{"siteMetadata":{"title":"Suu.Blog"}},"markdownRemark":{"id":"223798d0-4a0c-539f-ae9c-f55d968a83ab","excerpt":"✨ Introduction…","html":"<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✨ Introduction</h2>\n<p>넘블 디자인-프론트-백엔드 연계 모바일용 웹 서비스 만들기 챌린지 회고록.</p>\n<h3 id=\"-참가-동기\" style=\"position:relative;\"><a href=\"#-%EC%B0%B8%EA%B0%80-%EB%8F%99%EA%B8%B0\" aria-label=\" 참가 동기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>💡 참가 동기</h3>\n<p>우연히 들어가있던 단톡방에서 이런 챌린지가 열린다는 것을 알게 되어 참가하게 되었다.</p>\n<p>다른 프레임워크로 팀플은 많이 해봤는데 리액트로 팀 프로젝트를 해본 적이 없다는 점이 계속해서 고민이었고, 장고로 같은 서버에서 백 프론트 혼자서 데이터 주고받는건 해봤는데 백과 프론트가 완전히 분리되었을 때 데이터를 어떻게 주고받는지 해본 적이 없어서 성장에 큰 도움이 될 것 같았다.</p>\n<p>마침 신청 당시 일정이 비어있어서 망설임 없이 참가했다. (하지만 프로젝트 시작후 갑자기 많은 일정이 생겨버려 고생을 좀 하게 됨...^^)</p>\n<p>결론적으로 말하면 그동안 프론트 개발자분들과 얘기할 기회가 없었는데, 이번에 얘기하면서 새로운 기술들도 많이 알아가고 많이 배울 수 있었다. 정말정말 만족한다! 🥰</p>\n<h3 id=\"챌린지-소개\" style=\"position:relative;\"><a href=\"#%EC%B1%8C%EB%A6%B0%EC%A7%80-%EC%86%8C%EA%B0%9C\" aria-label=\"챌린지 소개 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>💡 챌린지 소개</h3>\n<p>모바일용 숏 폼 웹 서비스를 만드는 챌린지. 우리 팀은 '<strong>짧은 반려 동물 영상을 업로드 하는 모바일용 플랫폼</strong>'을 주제로 정했다. 동물을 키우지 않아도 서비스를 이용할 수 있기 때문에 이용자를 많이 확보할 수 있을 거라 생각했다.</p>\n<p>사이트 이름은 Paws (발바닥들이라는 뜻과, 영상 pause 두가지를 의도한 디자이너님의 멋진 아이디어였다 👍)</p>\n<p><a href=\"https://github.com/Numble3/Paws-Frontend\"><strong>-> Github 주소</strong></a></p>\n<h2 id=\"담당-역할-및-코드\" style=\"position:relative;\"><a href=\"#%EB%8B%B4%EB%8B%B9-%EC%97%AD%ED%95%A0-%EB%B0%8F-%EC%BD%94%EB%93%9C\" aria-label=\"담당 역할 및 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✨ 담당 역할 및 코드</h2>\n<p>동영상 업로드, 동영상 목록, 댓글 작성, 좋아요를 맡았다.</p>\n<h3 id=\"동영상-목록-무한-스크롤\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%98%81%EC%83%81-%EB%AA%A9%EB%A1%9D-%EB%AC%B4%ED%95%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4\" aria-label=\"동영상 목록 무한 스크롤 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>동영상 목록 (무한 스크롤)</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6fa237d70582a0bb32520684b86db3be/d7542/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.8481012658228%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEI0lEQVR42u2V61MaVxjGTzqddvqpf0z7F3TytZ2MF2ARAbkpOBqjGUuaiSaTmBitURQVAqh4SVCIt3ARrFHAqLA3bBNtoo3GS4RdwBSoEthdOkhqm2lMZ/zSL3nmN7PnPfs8Zy+z7x5AGgKkHif0OPlfBPVoUI8RhgChx3IzgNBgRCdKqGCiHSY6kPcS6kDCHehWxwLSPeFuNYbUb+dB9tCJEBqU0GKEGjkJUgW/6g9M9Bi9jQPRruWQGibUCCDa/KQWi8y8iNjXiC6UUPmzt/AuIZU/qsGXhp1Gddu6wRtWoaH2rA1kn1mHkz3LRG5wEvpAEFl7uf5kHUZ2DXBYm31TIP1HMhU/fEsieSLxQ/oNRdP04eFBMnGQiiVTiUNAM0zmg2IyTCYHw1BU+uDggKLoTCaTpigQiRDPnyGbGz+/3HwSJENEJEJGouH9KBEO7u1tBoltcj+yH09EY/FILBGOxV/Hf9/aeuaYdm7v7gCncyK/4KsL1XmXr/BHHA/ti/gjfHUG9U9ateMjNx8MX3O4+hcDMLJBoNv78EYU/nX1hzo5+PzMgOkeeDRrVSjONt8W3bkjHzAbzHb75JxzcqxpynJpcuh7S2/19NhVu/mKG0c8qy88K8+Xnv6iuFACPgNDZhNwe6xK5bc6TaVOe76xUXL9Bl/bDI3cFem6am2mhpmJlj5NnVEttQwo+4ZUPYPtljFDjVL8yZdfmEbNwOu1VVedbf2Rr24T6TXlfRqZoZk9fl9pHW1xjdS5TJecE63T1papB/X3jZfNptsOV6+8ohh8embIPAxe7a44rQ3T9lszU7fG+6vMXZK7TdyRwTq/WzNvb/U6OhCPbtHdN+vqHu2tsmil4wM13e3l+YVfz849BKHg2mOvYWmhb8bePKypGFRJdC0l9bWsQcMNm33UZrP95LpnMRuM+pvDuqox40WjqmzW0bTg6dzbeQqWFh9XyGXKi+drKsvEPJaAky/msbl530EsjkxaXiotVygqxSKZkAdJ+BypgCvmQ1XlpWWlYq/XAxbm56UVRXXXahuu1sslJeLiIrGAL+SwoLw8QbFYVFLKLxZDBYU8iCssgvgQm8dhVcplEpHA454DvoXFc8JvhDK2TCiQCopKhcUKqUjEg7j55wrzWRyOsCCPw2WxhEVcPsTmQ2wBlyMWCngQ1+N2g3A4vIwFcAxHERjx+RCfD/X7UQTGUMTv98Mw4vfBKILiGIYhSBYMxfEAiqAkSQKapjOnEk3TgKKo9GmVDZ9aH8Mfw/9nOE2l0x8Kp49Ov/e7p2iGYpi/y3/Zsi1J0zRFUe8OKJrJvHm9kwyv00wmW/7DcyyQyWRyS+a6NHeFoz2KjniuhxyVdDJ2VNGpVCrnOfaDXFsf/xJommb+2voSv03HVswMk12LOdKxJ+f/E8AQCuvvnHOUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"동영상 목록\"\n        title=\"\"\n        src=\"/static/6fa237d70582a0bb32520684b86db3be/f058b/1.png\"\n        srcset=\"/static/6fa237d70582a0bb32520684b86db3be/c26ae/1.png 158w,\n/static/6fa237d70582a0bb32520684b86db3be/6bdcf/1.png 315w,\n/static/6fa237d70582a0bb32520684b86db3be/f058b/1.png 630w,\n/static/6fa237d70582a0bb32520684b86db3be/d7542/1.png 810w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">InfiniteScroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  noResult <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token operator\">:</span> <span class=\"token string\">\"검색 결과 없음\"</span><span class=\"token punctuation\">,</span>\n    content<span class=\"token operator\">:</span> <span class=\"token string\">\"아직 등록된 동영상이 없어요\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  query <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> page<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  fetchFunc<span class=\"token punctuation\">,</span>\n  selectedCategory<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>target<span class=\"token punctuation\">,</span> setTarget<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLDivElement <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLoaded<span class=\"token punctuation\">,</span> setIsLoaded<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> page <span class=\"token operator\">=</span> query<span class=\"token punctuation\">.</span>page\n  <span class=\"token keyword\">let</span> hasNext <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getMoreItem</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsLoaded</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">fetchFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>query<span class=\"token punctuation\">,</span> page<span class=\"token operator\">:</span> page <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>res <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      hasNext <span class=\"token operator\">=</span> res<span class=\"token punctuation\">.</span>hasNext\n      <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>prev<span class=\"token operator\">:</span> VideoListType<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> newData <span class=\"token operator\">=</span> prev<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>contents<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> newData\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    page<span class=\"token operator\">++</span>\n    <span class=\"token function\">setIsLoaded</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    query <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>query<span class=\"token punctuation\">,</span> sort<span class=\"token operator\">:</span> selectedCategory <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>selectedCategory<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onIntersect</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">[</span>entry<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\n    observer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token function-variable function\">unobserve</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>arg0<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span> <span class=\"token function-variable function\">observe</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>arg0<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">.</span>isIntersecting <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isLoaded<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      observer<span class=\"token punctuation\">.</span><span class=\"token function\">unobserve</span><span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">await</span> <span class=\"token function\">getMoreItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>hasNext<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span>\n      <span class=\"token punctuation\">}</span>\n      observer<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> observer<span class=\"token operator\">:</span> IntersectionObserver\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntersectionObserver</span><span class=\"token punctuation\">(</span>onIntersect<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        threshold<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      observer<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> observer <span class=\"token operator\">&amp;&amp;</span> observer<span class=\"token punctuation\">.</span><span class=\"token function\">disconnect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>target<span class=\"token punctuation\">,</span> selectedCategory<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">\"grid\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">gap</span><span class=\"token operator\">:</span> <span class=\"token string\">\"20px\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>data <span class=\"token operator\">&amp;&amp;</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">!==</span> <span class=\"token number\">0</span>\n          <span class=\"token operator\">?</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> VideoListType<span class=\"token punctuation\">,</span> index<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n              <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Video</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">data</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">:</span> <span class=\"token operator\">!</span>isLoaded <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">NoResult</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>noResult<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setTarget<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>loading<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>isLoaded <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Image</span></span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">ICONS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LOADING</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">width</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">25</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">height</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">25</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>재사용을 신경 써야 했기 때문에 query, fetchFunc, 페이지마다 맞는 문구를 보여주기 위한 noResult, 최신순/인기순 정렬 기준 &#x3C;- 이렇게 네 가지를 props로 받는다.</p>\n<p>하면서 깨달은 것은 생각없이 쿼리에 타입을 작성해주고 있었는데 재사용 가능하게 해주려면 다 any로 지정해줘야한다는 것.</p>\n<p>어려웠던 점은 처음엔 프로젝트 내에서 react-query를 쓰고 있었기 때문에 infinite query(다음 페이지가 있으면 fetch를 다시한번 호출해준다.)를 사용해서 infinite scroll을 구현하려고 했었는데</p>\n<p>infinite query의 hasNextPage나 백에서 response로 받은 hasNext가 undefined로 떠 observer가 풀리지 않았다 😂</p>\n<p>결국 react query는 빼고, observe를 로딩 div에 걸고 hasNext가 true이면 계속 observe를 걸게 했다. useEffect로 카테고리가 변경되면 다시 데이터를 불러온다.</p>\n<h3 id=\"동영상-업로드\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%98%81%EC%83%81-%EC%97%85%EB%A1%9C%EB%93%9C\" aria-label=\"동영상 업로드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>동영상 업로드</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 569px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ff5e07d39a193c24dba3d69f3492bcce/854dc/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 253.1645569620253%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAzCAIAAAAYQr/UAAAACXBIWXMAAAsTAAALEwEAmpwYAAACrElEQVR42s2Wy26rMBCG8/4PVamrVr2oqVRllUWUqjUxYIMBG3w9CtMaYy5JujrfomqMf2Y8Hv9m45yz1ro5YNz2TMerqtoopYwx4ajW+u7u7vHx8fX19eHh4f7+/uXlJdQbLbvyWNJsY3rsGMZY0zSc86qHcx4+NUY7K1lZniPrANXTzzD+vcYYNUI65ygtNoSQ5+fn9/f37Xb78fGR57lzLnpjhFLKOVcUxUZKWdd108M577pumkiElNJaexb7IMYYL5A9EGFpFyilm/UML4shCPz171LLDGmH++QzX2coWFmWu93u8/Nzv9/neR5u0hKDuK7r/X6PEPr6+iKEyEtA5j/itm0ZY0UPIST7Je/JxqRpyhiDZZ8LJoTAGMODNE39JIyx/zkVa60JIWfxdNLplyWxUuon8myE0+kEGU3FXc+8OEmS7+9vhFCSJAih8GmY9kicBsCCcU80XpblULC2bQkhlNLiCiilTdPAhp0L1rYtpRQOfdd1tzWJH4K+u609pZRtj5RSX8cgBid5e3tLkuSih8Ti6WG8Rmyt/TnP3jrC7nfLXHYSuwz4/MhJrmdwEgiib2HkJNvt9vpqjcRCiCzLwHrDhgn/XxTDvNCrQ2bdF6o9mP5KJ18Quxv5H8TrC54FqjgS/2WflVKccyHE9WdrEDPGnp6edrsdxpgQinHatu1SIt5whrThrPhrfeU8+Mt4OM/+ZQihw+Hg43RdF67ieDwihKy1MPnsnpETaK3Xr0gpJXy3DE4CCCGaplnKuWkaIcRM2rDyoiiSJPHVCtOWUh4OB4yx9+04bZi6lDO0Q5y23wYhRF3XPrJ/HVQUrnsfORZzzhlj3pUiMVx0N6Qd1sxfVLCEOHJd11mWhWlPGzPubd/SQoiqqvxI9B0672GhPvr2Wxf/A9B1mSWedt8HAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"동영상 업로드\"\n        title=\"\"\n        src=\"/static/ff5e07d39a193c24dba3d69f3492bcce/854dc/2.png\"\n        srcset=\"/static/ff5e07d39a193c24dba3d69f3492bcce/c26ae/2.png 158w,\n/static/ff5e07d39a193c24dba3d69f3492bcce/6bdcf/2.png 315w,\n/static/ff5e07d39a193c24dba3d69f3492bcce/854dc/2.png 569w\"\n        sizes=\"(max-width: 569px) 100vw, 569px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>사용자의 행동을 고려한 부분을 얘기하려면 업로드 부분을 얘기해야할 것같아서 주요 코드만 꺼내본다.</p>\n<p>업로드 부분은 사용자의 행동에 따라 post를 막아야 할 경우가 많았다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">//입력 체크</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>linkLoading<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>linkInfo<span class=\"token punctuation\">.</span>link <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setLinkInfo</span><span class=\"token punctuation\">(</span>prev <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>prev<span class=\"token punctuation\">,</span>\n      linkError<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> message<span class=\"token operator\">:</span> <span class=\"token string\">\"링크 주소를 입력해주세요.\"</span><span class=\"token punctuation\">,</span> isError<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>titleInfo<span class=\"token punctuation\">.</span>title <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTitleInfo</span><span class=\"token punctuation\">(</span>prev <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>prev<span class=\"token punctuation\">,</span>\n      titleError<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>prev<span class=\"token punctuation\">.</span>titleError<span class=\"token punctuation\">,</span> isError<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>imageFile <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setImageError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>descriptionInfo<span class=\"token punctuation\">.</span>description <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setDescriptionInfo</span><span class=\"token punctuation\">(</span>prev <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>prev<span class=\"token punctuation\">,</span>\n      descriptionError<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>prev<span class=\"token punctuation\">.</span>descriptionError<span class=\"token punctuation\">,</span> isError<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selectedCategory <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setCategoryError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n  linkInfo<span class=\"token punctuation\">.</span>link <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">||</span>\n  titleInfo<span class=\"token punctuation\">.</span>title <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">||</span>\n  imageFile <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span>\n  descriptionInfo<span class=\"token punctuation\">.</span>description <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">||</span>\n  selectedCategory <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span></code></pre></div>\n<p>\"완료\" 버튼을 누르면 실행되는 코드 부분이다.</p>\n<p>만약 빈칸이면 return으로 나온다. 리턴 하기 전에는 각 input마다 사용자에게 경고 문구를 보여주는 로직이 필요했다. 팀원 분이 만들어주신 custom input을 사용했기 때문에 형식만 맞춰서 에러 문구와 에러 여부, 성공 여부만 보내주면 되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7b1796e04914f24235fe05702eda35f0/0a47e/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 239.873417721519%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAwCAIAAACe1s16AAAACXBIWXMAAAsTAAALEwEAmpwYAAADb0lEQVR42q1Wa2/jKhD1//9T/XY/pFKzu72tVOnuNttKiV81BgLMwIBXgO04WbdppXt05PDIYQYMxxQhYTgHT1BKSSk558aY8/7gHQxDKJxzRLTs8d7/k7Ddbm9vb29ubu7v7733S6nufgXvihw2TPAJYQG/itReICJjrOe8Y4wLYQB8CDkdInKOpuIKCiHE9u7u/tu379u7xx8/6v3eI1pEZ+3HjGKHSAhWcjpK7FpoG91U1mgXaRys0BpltbJgCqu1s3EcR+S8jySyKW93vpAzzFuFsncAhQVzCpIDgl4NeIqsj5FgirQqaQ4u0lm8zvH/Lr5nAEBrASCl/wUUnPPNZvP09PTw8LDf74dhICL/IU7i/J7zfhRCHCeohOM5pJTGGDehAIB2gWZCndCco65rIUSeqbX2UjwPUVVVXdd/t0spiQgRVyJn1HX9gdg5l5NfEef0yrKcM18Vr6ddluUhIRdWxae03ya019A0jRDCWjumjYhd1/UJSimToBcw58gxrY3bv7DWKqW00Xkw/wmcNgkRzY7hPoGz7amU2u12v19fe87j3owD+5XnCpP418+f/z38W7/+Rt6bnrmrNhInHf0pnmfvLBltBQfOgPc2eoUhAEKIz1zAqWoRj9wqaU10EpWdZHaPPLfhfRjW4LF3CIVDSDYCmXR6vm8myW30URb57F71ygt67xlj8T1zztP5D8nKQ1zeawzD0Pd9IaW83Wy0FM6YaKjJTK9HJopiB+ARzVuj6zKyqazW1hhrdObqtAmha5vCGk1pW45LnVc7Feh96x6GoWvqKA75CxjCyM/hXPxF/B9i71zw9CUOnqLYOQtKgVKo36P+mw6AdV2R7xT5QMdH+vW5EAYf8iG9RAghvmel1OPj4/PzM2NMCNH3vZYCeA89M+zNdG08YVm/uCaMYkQ8HA5VVQkhR89SCqQEwRMFGp1Uo0PlM+e9j+LZhoZhEEKUZZl8wpMPKYqf067rmjGWPSyEEA8GTQfYey+EaNt2zJAoW+Q8z7ZthRBz2lGcHTwjt87VLJ6rIYT8lcruO0ZerkFVVXPLbJfee0Tc7XZd111Gtgn5C6SUsmtARCGE1jpXiehszleRh5gXaBTPV0YA6LpuvlksXd459/Lycjgccvtl2nN6y+qyN957pt5Ppb3sXa5i3iR/AMt04T5GqMqsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"경고 문구\"\n        title=\"\"\n        src=\"/static/7b1796e04914f24235fe05702eda35f0/0a47e/3.png\"\n        srcset=\"/static/7b1796e04914f24235fe05702eda35f0/c26ae/3.png 158w,\n/static/7b1796e04914f24235fe05702eda35f0/6bdcf/3.png 315w,\n/static/7b1796e04914f24235fe05702eda35f0/0a47e/3.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이미지는 용량이 맞지 않으면 파일이 업로드 되지 않고 경고문구가 출력된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 372px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ae8b41637cde46ff50e0f761a61b2ab3/98b6e/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABP0lEQVR42o2SfW+CMBCH+f4fb1Pm/A/UAa19pdK7XtmWUnFTcNmTpjmaPuF3zRX7t3K72x2Ox7quy+2mrg5jHOP/KMrXl025rer6dDzt33eH6jT+yZ0MAAjgJ2Aq+hl3T9/33nsiCjMFW8CfwBgzxsQY8z8QsTivkW8vD40xRISIIQQAWJHbtu0mGGNLOcaIiACQYq/KmWdyjv0oi4ncXjaFECuy934Y7nrmnF/jzpm7rmun6lFOsXEhJ7qmaXLb6atJxWPP4NEPKXZ+1+vTziFvacXspY0xo3X8/MKmgnqPRIWUUiVkKqQUv1Faai20EVIJpc5SWediHMFIkBwQC5PQxtrhcumdoxsBUQlQZ+AN9hatRqOCs3EcA8VAkYgKY6xSytr+4pzW+mdwiYLiyBvkH8HZYFRaVsc03pRn+xu0rBV1sM27NAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"이미지 경고 문구 및 아이콘\"\n        title=\"\"\n        src=\"/static/ae8b41637cde46ff50e0f761a61b2ab3/98b6e/4.png\"\n        srcset=\"/static/ae8b41637cde46ff50e0f761a61b2ab3/c26ae/4.png 158w,\n/static/ae8b41637cde46ff50e0f761a61b2ab3/6bdcf/4.png 315w,\n/static/ae8b41637cde46ff50e0f761a61b2ab3/98b6e/4.png 372w\"\n        sizes=\"(max-width: 372px) 100vw, 372px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>업로드 된 이미지는 리사이즈를 위해 먼저 post 되어 백에서 변환이 된다. 변환된 주소가 response로 들어온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">await</span> <span class=\"token function\">imageResize</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>response <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    imageSrc <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>url\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    router<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">await</span> <span class=\"token function\">createEmbedVideo</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    router<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/profile/my-upload\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    router<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>post 성공시 내 업로드 영상 페이지로, 실패시 홈으로 돌아간다.</p>\n<p>이 모든 업로드를 위한 체크가 끝날 때까진 로딩 페이지가 렌더된다.</p>\n<hr>\n<h2 id=\"-소감-및-보완할-점\" style=\"position:relative;\"><a href=\"#-%EC%86%8C%EA%B0%90-%EB%B0%8F-%EB%B3%B4%EC%99%84%ED%95%A0-%EC%A0%90\" aria-label=\" 소감 및 보완할 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✨ 소감 및 보완할 점</h2>\n<p>나에게 이 프로젝트는 첫 리액트 팀 프로젝트이자 첫 백&#x26;프론트 분리 프로젝트이자 첫 Next이자 첫 상태관리이자... 등등이다. (+ tailwind나 material ui도 처음 알게 됐다.)\n상태 관리를 서버와 클라이언트 나눠서 할 수 있다는 것도 배워간다. 👀</p>\n<p>찍먹한 느낌이지만 이런게 있다는 걸 알게 된 것 만으로도 앞으로 뭘 공부하면 좋을지 정해져서 좋다.\n넘블에서 제시한 프로젝트 기간은 끝났지만, 좀 더 해야할 것들이 많아 팀원들과 같이 더 해보기로 했다.</p>\n<h3 id=\"추후-할일들\" style=\"position:relative;\"><a href=\"#%EC%B6%94%ED%9B%84-%ED%95%A0%EC%9D%BC%EB%93%A4\" aria-label=\"추후 할일들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추후 할일들</h3>\n<ul>\n<li>팀원 분이 내가 맡은 페이지 중 하나를 SSG로 만들면 어떻겠냐고 감사한 제안을 주셨는데, Next를 써본 만큼 도전해볼것.</li>\n<li>백과 좋아요나 조회수 로직 재협의</li>\n<li>youtube 임베드 가능 여부 체크 CORS 해결</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#-introduction\">✨ Introduction</a></p>\n<ul>\n<li><a href=\"#-%EC%B0%B8%EA%B0%80-%EB%8F%99%EA%B8%B0\">💡 참가 동기</a></li>\n<li><a href=\"#%EC%B1%8C%EB%A6%B0%EC%A7%80-%EC%86%8C%EA%B0%9C\">💡 챌린지 소개</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%8B%B4%EB%8B%B9-%EC%97%AD%ED%95%A0-%EB%B0%8F-%EC%BD%94%EB%93%9C\">✨ 담당 역할 및 코드</a></p>\n<ul>\n<li><a href=\"#%EB%8F%99%EC%98%81%EC%83%81-%EB%AA%A9%EB%A1%9D-%EB%AC%B4%ED%95%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4\">동영상 목록 (무한 스크롤)</a></li>\n<li><a href=\"#%EB%8F%99%EC%98%81%EC%83%81-%EC%97%85%EB%A1%9C%EB%93%9C\">동영상 업로드</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%86%8C%EA%B0%90-%EB%B0%8F-%EB%B3%B4%EC%99%84%ED%95%A0-%EC%A0%90\">✨ 소감 및 보완할 점</a></p>\n<ul>\n<li><a href=\"#%EC%B6%94%ED%9B%84-%ED%95%A0%EC%9D%BC%EB%93%A4\">추후 할일들</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"[Numble] 모바일용 웹 서비스 만들기 챌린지 회고록","date":"2022.05.16","description":"[Numble] 모바일용 웹 서비스 만들기 챌린지 참가 프로젝트 회고록","category":"회고","tag":["회고록","project"]}},"previous":{"fields":{"slug":"/기타/[2022-04-24]유니티 WebGL 방식으로 gh-pages 배포하기/[2022-04-24]유니티 WebGL 방식으로 gh-pages 배포하기/"},"frontmatter":{"title":"유니티 WebGL 방식으로 gh-pages 배포하기"}},"next":{"fields":{"slug":"/책/[2022-05-21]DO_IT!_타입스크립트_프로그래밍/[2022-05-21]DO_IT!_타입스크립트_프로그래밍/"},"frontmatter":{"title":"DO IT! 타입스크립트 프로그래밍"}}},"pageContext":{"id":"223798d0-4a0c-539f-ae9c-f55d968a83ab","previousPostId":"fd6d0189-c399-56a3-adb5-1e225cc86deb","nextPostId":"57953c0e-cb50-553a-921a-b337b6bbdcca"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}