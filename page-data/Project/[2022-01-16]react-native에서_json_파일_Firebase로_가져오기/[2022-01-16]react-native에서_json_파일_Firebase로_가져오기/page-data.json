{"componentChunkName":"component---src-templates-blog-post-js","path":"/Project/[2022-01-16]react-native에서_json_파일_Firebase로_가져오기/[2022-01-16]react-native에서_json_파일_Firebase로_가져오기/","result":{"data":{"site":{"siteMetadata":{"title":"Suu.Blog"}},"markdownRemark":{"id":"1baf0fb9-a3d5-503a-9526-43cb5c0808ca","excerpt":"Gymt…","html":"<p>Gymt는 과 내 개발 경험 적은 몇명이서 모여서 기획하고, 프론트만 작업하고, 공모전 우수상을 수상했던 프로젝트이다. (+ 직접 디자인도 했다.)<br>\n공모전 수상 후 학기가 시작됐고 좀더 하고싶은사람이 알아서 하자 하면서 팀이 뿔뿔이 흩어졌었는데, 학기가 바빠서 다시 손 못보고있다가 기껏 데이터셋 다 찾아놓고 데이터를 못 쓰고 끝난 게 계속 마음에 걸렸어서 뒤늦게 연결시켰다.</p>\n<p>firebase 연결하고 데이터 가져오는 것은 생각보다 정말 쉬웠다.</p>\n<p>해야할 일을 정리하자면 다음과 같이 세 가지가 있다.</p>\n<ol>\n<li>엑셀 파일을 json으로 변환</li>\n<li>firebase에 프로젝트 / 앱 추가 후 json 데이터를 firebase에 import</li>\n<li>DB를 가져와서 알맞게 렌더링</li>\n</ol>\n<h2 id=\"1-excel-to-json-변환\" style=\"position:relative;\"><a href=\"#1-excel-to-json-%EB%B3%80%ED%99%98\" aria-label=\"1 excel to json 변환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. excel to json 변환</h2>\n<p>파일 변환 사이트는 검색 시 많이 나온다.<br>\n나는 <a href=\"https://csvjson.com/csv2json\"><strong>CSV to JSON</strong></a> 사이트에서 변환했다.</p>\n<h2 id=\"2-import\" style=\"position:relative;\"><a href=\"#2-import\" aria-label=\"2 import permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. import</h2>\n<p><a href=\"https://copycoding.tistory.com/315\"><strong>다음의 블로그</strong></a>를 참고했다.</p>\n<h2 id=\"3-데이터-가져오기\" style=\"position:relative;\"><a href=\"#3-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\" aria-label=\"3 데이터 가져오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 데이터 가져오기</h2>\n<p><a href=\"https://firebase.google.com/docs/firestore/\"><strong>firebase 문서</strong></a>를 참고했다.</p>\n<p>위 문서를 따라했다면, 2번 과정에서 firebase에서 프로젝트를 생성하고 js에 firebaseConfig를 복사해왔을 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import * as firebase from \"./node_modules/firebase/app\";\nimport { getFirestore } from \"firebase/firestore\"\n\nconst firebaseConfig = {\n...\n}\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = getFirestore();\nexport { db };</code></pre></div>\n<p>내 경우 initializeApp을 가져오려고 똑같이 <code class=\"language-text\">import { initializeApp } from \"firebase/app\";</code> 했을 때 모듈을 찾을 수 없다고 뜨는 이슈가 있어서 위와 같이 작성하였다.</p>\n<p>그리고 데이터를 렌더링할 파일에 와서</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { db } from \"../config\";\nimport { collection, getDocs } from \"../node_modules/firebase/firestore\";</code></pre></div>\n<p>db와 콜렉션, getDocs를 가져오고</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let contestList = [];\nasync function dbContest(contestList) {\n  const querySnapshot = await getDocs(collection(db, \"contest\"));\n  querySnapshot.forEach((doc) => {\n    contestList.push({\n      id : doc.data().id,\n      date : doc.data().date,\n      title: doc.data().title,\n      sport : doc.data().kinds,\n    });\n  });\n}\ndbContest(contestList);</code></pre></div>\n<p>데이터 객체를 리스트에 추가했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1672b9e130517d6d3fea80db9c067d8b/47311/1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 198.73417721518987%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAoABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAH0q657B0sKXovUHFAiQf/EABwQAAICAwEBAAAAAAAAAAAAAAABAgMQEyMUJP/aAAgBAQABBQLRBGis81ZKuDNUCKUU8vCO53PoP//EABoRAAICAwAAAAAAAAAAAAAAAAASUWEBAhD/2gAIAQMBAT8BXECax1bFs//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BX//EAB4QAAIABgMAAAAAAAAAAAAAAAABAhEgMUFCITKR/9oACAEBAAY/Asmxn0m4UdUcKVdkWhNT/8QAHxAAAgICAQUAAAAAAAAAAAAAAAERMRBBIWGBodHx/9oACAEBAAE/IfuHTwBo2TkrOMKSdG2FRtihPHu0TH0Dei8D/9oADAMBAAIAAwAAABAT8Tz4L//EABgRAAMBAQAAAAAAAAAAAAAAAABhcRCR/9oACAEDAQE/EFBDbFun/8QAGBEBAQADAAAAAAAAAAAAAAAAEQABEGH/2gAIAQIBAT8QeznbN//EAB0QAAICAwEBAQAAAAAAAAAAAAERADEhQbHBUZH/2gAIAQEAAT8QSQd2gPkUfUw6ng/isSRbjSBVVVMvxFRjbLx+QfSSp2PYrb75ARjBudD2ExDTbiZVjxDVJb2n/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"데이터가 불러와진 모습\"\n        title=\"\"\n        src=\"/static/1672b9e130517d6d3fea80db9c067d8b/828fb/1.jpg\"\n        srcset=\"/static/1672b9e130517d6d3fea80db9c067d8b/ff44c/1.jpg 158w,\n/static/1672b9e130517d6d3fea80db9c067d8b/a6688/1.jpg 315w,\n/static/1672b9e130517d6d3fea80db9c067d8b/828fb/1.jpg 630w,\n/static/1672b9e130517d6d3fea80db9c067d8b/0ede0/1.jpg 945w,\n/static/1672b9e130517d6d3fea80db9c067d8b/47311/1.jpg 1080w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>그 결과 데이터가 잘 불러와진 걸 볼 수 있었다. 데이터가 제대로 들어가면서 오버플로우가 발생한 김에 scrollView로 바꿔주었다.</p>\n<p>++</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/39c08a37c6b832fe74b53b204c2ffbf1/627f4/2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 572.7848101265822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCABzABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAwUC/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAECBP/aAAwDAQACEAMQAAABc6Q5Z0DoRizDmb3BMLbct0YIKWuT7h0XKpv7lOiBc6XrMlBwrENS2Fho0wIDfDACf//EACAQAAICAgICAwAAAAAAAAAAAAECAAMRExIhEBQEIDL/2gAIAQEAAQUCFCT1q561csVms1mfHyKx5extm1pQxZAvfETELPt2iBuQ4AkVqJiG1ufKwypyympWYVLgDE6z1FYEam2PU8oQogHly2zMo/A+3//EABgRAAIDAAAAAAAAAAAAAAAAAAASAQIw/9oACAEDAQE/AUgSu/8A/8QAGREAAgMBAAAAAAAAAAAAAAAAEBEBEiBR/9oACAECAQE/AWGHqoU9x//EACQQAAEDBAEDBQAAAAAAAAAAAAABETECECFBMiAiYXGRodHh/9oACAEBAAY/AjZsq5SRWZeSb1Ii7svqOyexFl71RLQw5FlR48HL4MoOfdoOJgqy2RmVfLjKjZ6FmTZu37ZL/wD/xAAkEAEAAgICAQMFAQAAAAAAAAABABEhMUFRcRBhkYGhscHR8f/aAAgBAQABPyG2h+v5PekbTClWzRFdB8wsNHIgpbF33LDn7+gtQUz8kcF6TOoKwUafEAaAicYrUCopcfMzFvKW9Nvc1OXm4A1BjAJg0B9cY+cw1GufPMCDNHaCKIAWTGkXLSCpgVzElQ3tLywy3ALybhXHoAdbTwnJe7mBtc77gv8AsX3+YbjhjP/aAAwDAQACAAMAAAAQszayswkwjwFy58A8/8QAGxEAAgIDAQAAAAAAAAAAAAAAAAEQESAhYUH/2gAIAQMBAT8Q5nI3F4WouE0vDUM//8QAGREAAwEBAQAAAAAAAAAAAAAAAAEREEFR/9oACAECAQE/EBWNEWkdyLzI8aiUUG5hXu//xAAiEAEBAAICAQQDAQAAAAAAAAABEQAhMUFRYXHR4YGhscH/2gAIAQEAAT8QopSxtJiR8XxlGuM6+MWj6CvF1xh3ad1rD7NAJMhi7ArROrgCftgR2NwIOlAFl4zzIPZ84LZR0exgqmCqF5wMK/iYXDOYEw5SMAElzv7DpVr7w4d6QZYppdjvN9DyX/WEpW27cEHlEGryXnFtdl0Me5kdiRqUg394FCqGcld4TVJwr/uMgAt0YciFeU84j+mQbozSP8yrcI3Yt0HGIjkJyn2usZ2ihro3igWaeF7yBID0Jgjwjm4XtWBfBm25MtiYqrz+vgwLCq2A1XzvDH2OFmwP5Y1s8GsVBHVxqlegz//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"(구미시, 축구) 검색 결과\"\n        title=\"\"\n        src=\"/static/39c08a37c6b832fe74b53b204c2ffbf1/828fb/2.jpg\"\n        srcset=\"/static/39c08a37c6b832fe74b53b204c2ffbf1/ff44c/2.jpg 158w,\n/static/39c08a37c6b832fe74b53b204c2ffbf1/a6688/2.jpg 315w,\n/static/39c08a37c6b832fe74b53b204c2ffbf1/828fb/2.jpg 630w,\n/static/39c08a37c6b832fe74b53b204c2ffbf1/627f4/2.jpg 810w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>체육관 검색 결과 페이지도 잘 작동하는걸 확인할 수 있었다.</p>","tableOfContents":"<ul>\n<li><a href=\"#1-excel-to-json-%EB%B3%80%ED%99%98\">1. excel to json 변환</a></li>\n<li><a href=\"#2-import\">2. import</a></li>\n<li><a href=\"#3-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\">3. 데이터 가져오기</a></li>\n</ul>","frontmatter":{"title":"react-native에서 json 파일 Firebase로 가져오기","date":"2022.01.16","description":"react-native에서 json 파일 Firebase로 가져오기","category":"Project","tag":["react-native","Firebase"]}},"previous":{"fields":{"slug":"/Project/[2021-11-14][감정인식_챗봇_스피커_'버디'_프로젝트]_데이터_전처리와_KoBert/[2021-11-14][감정인식_챗봇_스피커_'버디'_프로젝트]_데이터_전처리와_KoBert/"},"frontmatter":{"title":"[감정인식 챗봇 스피커 '버디' 프로젝트] 데이터 전처리와 KoBert"}},"next":{"fields":{"slug":"/Django/[2022-01-21][django]_google_social_login/[2022-01-21][django]_google_social_login/"},"frontmatter":{"title":"[django] google social login 구현하기"}}},"pageContext":{"id":"1baf0fb9-a3d5-503a-9526-43cb5c0808ca","previousPostId":"badadd35-4770-5326-aca1-b5834bc4acce","nextPostId":"e2e6563e-27a3-5bee-bac6-b414ec926c16"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}