{"version":3,"file":"component---src-templates-blog-post-js-b89b51f55705bc35d477.js","mappings":"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","sources":["webpack://gatsby-blog/./static/images/left-arrow.svg","webpack://gatsby-blog/./src/components/@layout/main/index.tsx","webpack://gatsby-blog/./src/components/@layout/utterances/index.tsx","webpack://gatsby-blog/./src/components/@layout/tableOfContents/table-contents.module.css","webpack://gatsby-blog/./src/components/@layout/tableOfContents/index.tsx","webpack://gatsby-blog/./src/hooks/useActiveHash.ts","webpack://gatsby-blog/./src/templates/blog-post.js","webpack://gatsby-blog/./src/templates/blog-post.module.css"],"sourcesContent":["var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgLeftArrow = function SvgLeftArrow(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 9,\n    height: 16,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 15L0.999998 8L8 1\",\n    stroke: \"var(--color-bg-surface-02, #000000)\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n};\nexport { SvgLeftArrow as ReactComponent };\nexport default \"data:image/svg+xml;base64,IDxzdmcKICAgIHdpZHRoPSI5IgogICAgaGVpZ2h0PSIxNiIKICAgIHZpZXdCb3g9IjAgMCA5IDE2IgogICAgZmlsbD0ibm9uZSIKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKPgogICAgPHBhdGgKICAgIGQ9Ik04IDE1TDAuOTk5OTk4IDhMOCAxIgogICAgc3Ryb2tlPSJ2YXIoLS1jb2xvci1iZy1zdXJmYWNlLTAyLCAjMDAwMDAwKSIKICAgIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIKICAgIHN0cm9rZS1saW5lam9pbj0icm91bmQiCiAgICAvPgo8L3N2Zz4K\";","import React, { ReactNode } from \"react\"\nimport { motion } from \"framer-motion\"\n\nconst TransitionMain = ({\n  children,\n  className,\n}: {\n  children: ReactNode\n  className?: string\n}) => {\n  return (\n    // <motion.main\n    //   className={className}\n    //   initial={{\n    //     opacity: 0,\n    //     x: -200,\n    //   }}\n    //   animate={{\n    //     opacity: 1,\n    //     x: 0,\n    //   }}\n    //   exit={{\n    //     opacity: 0,\n    //     x: 200,\n    //   }}\n    //   transition={{\n    //     type: \"spring\",\n    //     mass: 0.35,\n    //     stiffness: 75,\n    //     duration: 0.15,\n    //   }}\n    // >\n    <main className={className}>{children}</main>\n    // </motion.main>\n  )\n}\n\nexport default TransitionMain\n","import React, { createRef, useLayoutEffect } from \"react\"\n\nconst src = \"https://utteranc.es/client.js\"\n\nconst Utterances = React.memo(() => {\n  const containerRef = createRef<HTMLDivElement>()\n\n  useLayoutEffect(() => {\n    const utterances = document.createElement(\"script\")\n\n    const attributes = {\n      src,\n      repo: \"suu3/blog-utterance\",\n      \"issue-term\": \"pathname\",\n      label: \"comment\",\n      theme: \"github-light\",\n      crossOrigin: \"anonymous\",\n      async: \"true\",\n    }\n\n    Object.entries(attributes).forEach(([key, value]) => {\n      utterances.setAttribute(key, value)\n    })\n\n    if (containerRef.current) containerRef.current.appendChild(utterances)\n  }, [])\n\n  return <div ref={containerRef} />\n})\n\nUtterances.displayName = \"Utterances\"\n\nexport default Utterances\n","// extracted by mini-css-extract-plugin\nexport var active = \"table-contents-module--active--112f5\";\nexport var header = \"table-contents-module--header--20825\";\nexport var inner = \"table-contents-module--inner--37b4d\";\nexport var pulse = \"table-contents-module--pulse--17500\";\nexport var wrapper = \"table-contents-module--wrapper--6414c\";","import React, { useEffect, useMemo } from \"react\"\nimport { wrapper, inner, header, active } from \"./table-contents.module.css\"\nimport { useActiveHash } from \"../../../hooks/useActiveHash\"\n\ninterface TableContentsProps {\n  content: string\n}\n\nconst TableContents = ({ content = \"\" }: TableContentsProps) => {\n  let targetedIds = useMemo(() => {\n    if (typeof window === \"undefined\") return\n    const dummyDOM = document.createElement(\"html\")\n    dummyDOM.innerHTML = content\n    const justAnchors = dummyDOM.querySelectorAll(`a`)\n\n    let anchorList = []\n    justAnchors.forEach(a => {\n      anchorList.push(decodeURI(a.hash.replace(\"#\", \"\")))\n    })\n\n    return anchorList\n  }, [])\n\n  const activeHash = useActiveHash(targetedIds)\n\n  useEffect(() => {\n    const ToClinks = document.querySelectorAll(`.table-of-contents a`)\n\n    ToClinks.forEach(a => {\n      a.classList.remove(active)\n    })\n\n    const activeLink = document.querySelectorAll(\n      `.table-of-contents a[href=\"${\"#\" + encodeURI(activeHash)}\"]`\n    )\n\n    if (activeLink.length) {\n      activeLink[0].classList.add(active)\n    }\n  }, [activeHash])\n\n  if (!content) return null\n  return (\n    <aside className={wrapper}>\n      <div className={inner}>\n        <header className={header}>Index</header>\n\n        <div\n          className=\"table-of-contents\"\n          dangerouslySetInnerHTML={{ __html: content }}\n        />\n      </div>\n    </aside>\n  )\n}\n\nexport default TableContents\n","import { useEffect, useState } from \"react\"\n\n/**\n * @link https://stackoverflow.com/questions/23269951/how-to-get-all-elements-with-a-specified-href-attribute\n */\nexport const useActiveHash = (itemIds, rootMargin = undefined) => {\n  const [activeHash, setActiveHash] = useState(``)\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            setActiveHash(entry.target.id)\n          }\n        })\n      },\n      { rootMargin: rootMargin || `0% 0% -80% 0%` }\n    )\n\n    itemIds.forEach(id => {\n      const element = document?.getElementById(id)\n\n      if (element) observer?.observe(element)\n    })\n\n    return () => {\n      itemIds?.forEach(id => {\n        const element = document?.getElementById(id)\n\n        if (element) observer?.unobserve(element)\n      })\n    }\n  }, [])\n\n  return activeHash\n}\n","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport { ReactComponent as LeftArrow } from \"/static/images/left-arrow.svg\"\n\nimport TransitionMain from \"../components/@layout/main\"\nimport Utterances from \"../components/@layout/utterances\"\n// import Bio from \"../components/@layout/bio\"\nimport Layout from \"../components/@layout\"\nimport Seo from \"../components/@layout/seo\"\nimport TableContents from \"../components/@layout/tableOfContents\"\nimport { HOME_URL } from \"../constants/links\"\nimport {\n  wrapper,\n  left,\n  mainArticle,\n  blogPost,\n  blogPostNav,\n  badgesCls,\n  badgeCls,\n  leftBox,\n  rightBox,\n} from \"./blog-post.module.css\"\nimport { navigate } from \"gatsby\"\n\nconst BlogPostTemplate = ({\n  data: { previous, next, site, markdownRemark: post },\n  location,\n}) => {\n  const siteTitle = site.siteMetadata?.title || `Title`\n\n  const badges = post.frontmatter.tag?.map(tag => (\n    <span className={badgeCls} key={tag}>\n      #{tag}\n    </span>\n  ))\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <TransitionMain>\n        <article\n          className={blogPost}\n          itemScope\n          itemType=\"http://schema.org/Article\"\n        >\n          <header>\n            <small>\n              <p>{post.frontmatter.date}</p>\n              <div />\n              <p>{post.frontmatter.category}</p>\n            </small>\n            <h1 itemProp=\"headline\">{post.frontmatter.title}</h1>\n            <p className={badgesCls}>{badges}</p>\n          </header>\n          <div className={wrapper}>\n            <div className={left}>\n              <TableContents content={post.tableOfContents} />\n              <button\n                onClick={() => {\n                  navigate(HOME_URL)\n                }}\n              >\n                <LeftArrow />\n                홈으로 가기\n              </button>\n            </div>\n            <div className={mainArticle}>\n              <section\n                dangerouslySetInnerHTML={{ __html: post.html }}\n                itemProp=\"articleBody\"\n              />\n              <Utterances />\n              <nav className={blogPostNav}>\n                <ul>\n                  <li>\n                    {previous && (\n                      <Link\n                        className={leftBox}\n                        to={previous.fields.slug}\n                        rel=\"prev\"\n                      >\n                        <span>\n                          {/* <span>←</span> */}\n                          이전 글\n                        </span>\n                        <p>{previous.frontmatter.title}</p>\n                      </Link>\n                    )}\n                  </li>\n                  <li>\n                    {next && (\n                      <Link\n                        className={rightBox}\n                        to={next.fields.slug}\n                        rel=\"next\"\n                      >\n                        <span>다음 글{/* <span>→</span> */}</span>\n                        <p>{next.frontmatter.title}</p>\n                      </Link>\n                    )}\n                  </li>\n                </ul>\n              </nav>\n            </div>\n          </div>\n        </article>\n      </TransitionMain>\n    </Layout>\n  )\n}\n\nexport const Head = ({ data: { markdownRemark: post } }) => {\n  return (\n    <Seo\n      title={post.frontmatter.title}\n      description={post.frontmatter.description || post.excerpt}\n    />\n  )\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug(\n    $id: String!\n    $previousPostId: String\n    $nextPostId: String\n  ) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(id: { eq: $id }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      tableOfContents\n      frontmatter {\n        title\n        date(formatString: \"YYYY.MM.DD\")\n        description\n        category\n        tag\n      }\n    }\n    previous: markdownRemark(id: { eq: $previousPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    next: markdownRemark(id: { eq: $nextPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nexport var badgeCls = \"blog-post-module--badge-cls--02d23\";\nexport var badgesCls = \"blog-post-module--badges-cls--b502b\";\nexport var blogPost = \"blog-post-module--blog-post--59946\";\nexport var blogPostNav = \"blog-post-module--blog-post-nav--6c6d8\";\nexport var left = \"blog-post-module--left--35091\";\nexport var leftBox = \"blog-post-module--left-box--22ce0\";\nexport var mainArticle = \"blog-post-module--main-article--7ee64\";\nexport var moveLeft = \"blog-post-module--move-left--d98fc\";\nexport var moveRight = \"blog-post-module--move-right--5445f\";\nexport var rightBox = \"blog-post-module--right-box--d9c2e\";\nexport var wrapper = \"blog-post-module--wrapper--02980\";"],"names":["_path","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","SvgLeftArrow","props","width","height","fill","xmlns","d","stroke","strokeLinecap","strokeLinejoin","_ref","children","className","React","Utterances","containerRef","createRef","useLayoutEffect","utterances","document","createElement","attributes","src","repo","label","theme","crossOrigin","async","entries","forEach","key","value","setAttribute","current","appendChild","ref","displayName","active","content","activeHash","itemIds","rootMargin","undefined","setActiveHash","useState","useEffect","observer","IntersectionObserver","entry","isIntersecting","target","id","_document","element","getElementById","observe","_document2","unobserve","useActiveHash","useMemo","window","dummyDOM","innerHTML","justAnchors","querySelectorAll","anchorList","a","push","decodeURI","hash","replace","classList","remove","activeLink","encodeURI","add","dangerouslySetInnerHTML","__html","Head","_ref2","data","markdownRemark","post","Seo","title","frontmatter","description","excerpt","_site$siteMetadata","_post$frontmatter$tag","previous","next","site","location","siteTitle","siteMetadata","badges","tag","map","Layout","TransitionMain","itemScope","itemType","date","category","itemProp","TableContents","tableOfContents","onClick","navigate","HOME_URL","LeftArrow","html","Link","to","fields","slug","rel"],"sourceRoot":""}